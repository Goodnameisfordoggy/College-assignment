实验九 MySQL数据库存储过程与函数的创建管理实验
一、实验目的
1.理解存储过程和函数的概念。
2.掌握创建存储过程和函数的方法。
3.掌握执行存储过程和函数的方法。
二、验证性实验
1．某超市的食品管理的数据库的Food表，Food表的定义如表A-19所示。
表A-19  Food表的定义
字段名	字段描述	数据类型	主键	外键	非空	唯一	自增
foodid	食品编号	INT(4)	是	否	是	是	是
Name	食品名称	VARCHAR(20)	否	否	是	否	否
Company	生产厂商	VARCHAR(30)	否	否	是	否	否
Price	价格（单位：元）	FLOAT	否	否	是	否	否
Product_time	生产年份	YEAR	否	否	否	否	否
Validity_time	保质期（单位：年）	INT(4)	否	否	否	否	否
address	厂址	VARCHAR(50)	否	否	否	否	否
各列有如下数据：
'QQ饼干','QQ饼干厂',2.5,'2021',3,'北京'
'MN牛奶','MN牛奶厂',3.5,'2020',1,'河北'
'EE果冻','EE果冻厂',1.5,'2020',2,'北京'
'FF咖啡','FF咖啡厂',20,'2020',5,'天津'
'GG奶糖','GG奶糖',14,'2021',3,'广东'
(1)在food表上创建名为Pfood_price_count的存储过程。其中存储过程Pfood_price_count有3个参数。输入参数为price_info1和price_info2，输出参数为count。存储过程的满足：查询food表中食品单价高于price_info1且低于price_info2的食品种数，然后由count参数来输出，并且计算满足条件的单价的总和。
(2)使用CALL语句来调用存储过程。查询价格在2至18之间的食品种数。
(3)使用SELECT语句查看结果。
其中，count是存储过程的输出结果：sum是存储过程中的变量，sum中的值满足条件的单价的总和。
(4)使用DROP语句删除存储过程Pfood_price_count。
(5)使用存储函数来实现（1）的要求。
(6)调用存储函数。
(7)删除存储函数。
注意：存储函数只能返回一个值，所以只实现了计算满足条件的食品种数。使用RETURN来将计算的食品种数返回来。调用存储函数与调用MySQL内部函数的方式是一样的。
三、观察与思考
(1)什么时候适合通过创建存储过程来实现？
(2)功能相同的存储过程和存储函数的不同点有哪些？

